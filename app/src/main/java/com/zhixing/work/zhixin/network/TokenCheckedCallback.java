package com.zhixing.work.zhixin.network;import android.text.TextUtils;import com.zhixing.work.zhixin.common.Logger;import com.zhixing.work.zhixin.util.AlertUtils;import retrofit2.Call;import retrofit2.Callback;import retrofit2.Response;/** * Created by lhj on 18/5/9 */public abstract class TokenCheckedCallback<T extends BaseResult> implements Callback<T> {    @Override    public void onResponse(Call<T> call, Response<T> response) {        if (response == null) {            new NullPointerException("response is null");        }        if (NetworkConstant.RESPONSE_CODE == response.code() && response.body() != null) {            T result = response.body();            if(result.Code == 0){                //服务器异常                //AlertUtils.show(ResourceUtils.getString(R.string.service_error));                AlertUtils.show(result.Message);                postError(result.Message);                return;            }else if(result.Code >10000 && result.Code<10004){                if(!TextUtils.isEmpty(result.Message)){                    AlertUtils.show(result.Message);                }            }else if (result.Code > 10003 && result.Code < 10006) {                //Token 异常            }  else {                postResult(result);            }        }    }    @Override    public void onFailure(Call<T> call, Throwable t) {        Logger.e(">>>", "网络请求异常");        t.printStackTrace();        postError(t.getMessage());    }    protected abstract void postResult(T result);    protected void postError(String errorMessage) {    }}